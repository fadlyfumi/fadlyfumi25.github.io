<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Color Palette Designer</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            color: #7f8c8d;
            font-size: 1.1em;
        }

        .controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .control-group {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.08);
            border: 1px solid #e8f4f8;
        }

        .control-group h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .color-input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            align-items: center;
        }

        .color-picker {
            width: 60px;
            height: 40px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .hex-input {
            flex: 1;
            padding: 10px;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            font-family: monospace;
            font-size: 14px;
        }

        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            width: 100%;
            position: relative;
            overflow: hidden;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        .btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 10px rgba(102, 126, 234, 0.4);
        }

        .btn-harmony {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            box-shadow: 0 4px 15px rgba(231, 76, 60, 0.4);
        }

        .btn-harmony:hover {
            box-shadow: 0 6px 20px rgba(231, 76, 60, 0.6);
            transform: translateY(-2px);
        }

        .btn-ai {
            background: linear-gradient(45deg, #2ecc71, #27ae60);
            box-shadow: 0 4px 15px rgba(46, 204, 113, 0.4);
            position: relative;
        }

        .btn-ai:hover {
            box-shadow: 0 6px 20px rgba(46, 204, 113, 0.6);
            transform: translateY(-2px);
        }

        .btn-ai::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }

        .btn-ai:hover::before {
            left: 100%;
        }

        .btn-icon {
            font-size: 18px;
            display: inline-block;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e8ed;
            border-radius: 8px;
            font-size: 16px;
            background: white;
        }

        .palette-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .palette-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid #e8f4f8;
        }

        .palette-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .palette-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .palette-title {
            font-size: 1.1em;
            font-weight: 600;
            color: #2c3e50;
        }

        .harmony-type {
            background: linear-gradient(45deg, #00b894, #00cec9);
            color: white;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: 500;
        }

        .color-strip {
            display: flex;
            height: 80px;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .color-swatch {
            flex: 1;
            display: flex;
            align-items: end;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: 600;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
            padding: 8px;
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .color-swatch:hover {
            transform: scale(1.05);
            z-index: 1;
        }

        .color-codes {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
            gap: 8px;
            font-family: monospace;
            font-size: 11px;
        }

        .color-code {
            text-align: center;
            padding: 6px;
            background: #f8f9fa;
            border-radius: 6px;
            color: #2c3e50;
            border: 1px solid #e9ecef;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
            border: 1px solid #e8f4f8;
        }

        .stat-number {
            font-size: 2em;
            font-weight: 700;
            color: #667eea;
            display: block;
        }

        .stat-label {
            color: #7f8c8d;
            font-size: 0.9em;
            margin-top: 5px;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #00b894;
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            display: none;
            z-index: 1000;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
                margin: 10px;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .controls {
                grid-template-columns: 1fr;
            }
            
            .palette-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ðŸŽ¨ AI Color Palette Designer</h1>
            <p>Sistem Rekomendasi Warna Otomatis Berbasis Machine Learning untuk Desainer Grafis</p>
        </div>

        <div class="controls">
            <div class="control-group">
                <h3>ðŸŽ¯ Input Warna Base</h3>
                <div class="color-input-group">
                    <input type="color" id="baseColor" class="color-picker" value="#3498db">
                    <input type="text" id="baseColorHex" class="hex-input" value="#3498db" placeholder="#RRGGBB">
                </div>
                <button class="btn" onclick="generateFromBase()">Generate dari Warna Base</button>
            </div>

            <div class="control-group">
                <h3>ðŸŽª Jenis Harmoni Warna</h3>
                <select id="harmonyType">
                    <option value="complementary">Complementary (Berlawanan)</option>
                    <option value="triadic">Triadic (Segitiga)</option>
                    <option value="analogous">Analogous (Berdekatan)</option>
                    <option value="splitComplementary">Split Complementary</option>
                    <option value="tetradic">Tetradic (Persegi)</option>
                    <option value="monochromatic">Monochromatic (Satu Warna)</option>
                </select>
                <div style="margin-top: 15px;">
                    <button class="btn btn-harmony" onclick="generateByHarmony()">
                        <span class="btn-icon">ðŸŽ¨</span>
                        Generate Berdasarkan Harmoni
                    </button>
                </div>
            </div>

            <div class="control-group">
                <h3>ðŸ¤– AI Smart Generation</h3>
                <select id="moodType">
                    <option value="professional">Professional & Corporate</option>
                    <option value="creative">Creative & Artistic</option>
                    <option value="warm">Warm & Friendly</option>
                    <option value="cool">Cool & Modern</option>
                    <option value="vibrant">Vibrant & Energetic</option>
                    <option value="minimal">Minimal & Clean</option>
                    <option value="nature">Nature & Organic</option>
                    <option value="luxury">Luxury & Premium</option>
                </select>
                <div style="margin-top: 15px;">
                    <button class="btn btn-ai" onclick="generateAIPalette()">
                        <span class="btn-icon">ðŸ§ </span>
                        Generate dengan AI
                    </button>
                </div>
            </div>
        </div>

        <div class="stats">
            <div class="stat-card">
                <span class="stat-number" id="paletteCount">0</span>
                <div class="stat-label">Palet Generated</div>
            </div>
            <div class="stat-card">
                <span class="stat-number" id="harmonyScore">0%</span>
                <div class="stat-label">Harmony Score</div>
            </div>
            <div class="stat-card">
                <span class="stat-number" id="contrastRatio">0:1</span>
                <div class="stat-label">Contrast Ratio</div>
            </div>
        </div>

        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>AI sedang menganalisis dan menghasilkan rekomendasi warna...</p>
        </div>

        <div class="palette-grid" id="paletteGrid">
            <!-- Palettes akan di-generate di sini -->
        </div>
    </div>

    <div class="toast" id="toast"></div>

    <script>
        let paletteCounter = 0;
        let generatedPalettes = [];

        // Color utility functions
        function hexToHsl(hex) {
            const r = parseInt(hex.slice(1, 3), 16) / 255;
            const g = parseInt(hex.slice(3, 5), 16) / 255;
            const b = parseInt(hex.slice(5, 7), 16) / 255;

            const max = Math.max(r, g, b);
            const min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;

            if (max === min) {
                h = s = 0;
            } else {
                const d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                    case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                    case g: h = (b - r) / d + 2; break;
                    case b: h = (r - g) / d + 4; break;
                }
                h /= 6;
            }

            return [h * 360, s * 100, l * 100];
        }

        function hslToHex(h, s, l) {
            h /= 360;
            s /= 100;
            l /= 100;

            const hue2rgb = (p, q, t) => {
                if (t < 0) t += 1;
                if (t > 1) t -= 1;
                if (t < 1/6) return p + (q - p) * 6 * t;
                if (t < 1/2) return q;
                if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;
                return p;
            };

            let r, g, b;
            if (s === 0) {
                r = g = b = l;
            } else {
                const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                const p = 2 * l - q;
                r = hue2rgb(p, q, h + 1/3);
                g = hue2rgb(p, q, h);
                b = hue2rgb(p, q, h - 1/3);
            }

            const toHex = c => {
                const hex = Math.round(c * 255).toString(16);
                return hex.length === 1 ? '0' + hex : hex;
            };

            return `#${toHex(r)}${toHex(g)}${toHex(b)}`;
        }

        function getContrastRatio(color1, color2) {
            const getLuminance = (hex) => {
                const r = parseInt(hex.slice(1, 3), 16) / 255;
                const g = parseInt(hex.slice(3, 5), 16) / 255;
                const b = parseInt(hex.slice(5, 7), 16) / 255;

                const sRGB = [r, g, b].map(c => {
                    return c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);
                });

                return 0.2126 * sRGB[0] + 0.7152 * sRGB[1] + 0.0722 * sRGB[2];
            };

            const lum1 = getLuminance(color1);
            const lum2 = getLuminance(color2);
            const brightest = Math.max(lum1, lum2);
            const darkest = Math.min(lum1, lum2);

            return (brightest + 0.05) / (darkest + 0.05);
        }

        // AI-based palette generation
        const moodPalettes = {
            professional: {
                base: ['#2c3e50', '#34495e', '#7f8c8d', '#95a5a6', '#bdc3c7'],
                accent: ['#3498db', '#e74c3c', '#f39c12']
            },
            creative: {
                base: ['#e74c3c', '#9b59b6', '#3498db', '#1abc9c', '#f1c40f'],
                accent: ['#e67e22', '#2ecc71', '#34495e']
            },
            warm: {
                base: ['#e74c3c', '#e67e22', '#f39c12', '#f1c40f', '#d35400'],
                accent: ['#c0392b', '#a0522d', '#cd853f']
            },
            cool: {
                base: ['#3498db', '#2980b9', '#1abc9c', '#16a085', '#34495e'],
                accent: ['#9b59b6', '#8e44ad', '#2c3e50']
            },
            vibrant: {
                base: ['#e74c3c', '#f1c40f', '#2ecc71', '#3498db', '#9b59b6'],
                accent: ['#e67e22', '#1abc9c', '#e91e63']
            },
            minimal: {
                base: ['#2c3e50', '#ecf0f1', '#bdc3c7', '#95a5a6', '#7f8c8d'],
                accent: ['#3498db', '#1abc9c', '#f39c12']
            },
            nature: {
                base: ['#27ae60', '#2ecc71', '#16a085', '#1abc9c', '#f39c12'],
                accent: ['#e67e22', '#d35400', '#8b4513']
            },
            luxury: {
                base: ['#2c3e50', '#8e44ad', '#9b59b6', '#34495e', '#1a1a1a'],
                accent: ['#f1c40f', '#e74c3c', '#ffffff']
            }
        };

        function generateComplementaryColors(baseColor) {
            const [h, s, l] = hexToHsl(baseColor);
            const complementaryHue = (h + 180) % 360;
            
            return [
                baseColor,
                hslToHex(complementaryHue, s, l),
                hslToHex(h, s * 0.7, Math.min(l + 20, 90)),
                hslToHex(complementaryHue, s * 0.7, Math.min(l + 20, 90)),
                hslToHex(h, s * 0.4, Math.max(l - 30, 10))
            ];
        }

        function generateTriadicColors(baseColor) {
            const [h, s, l] = hexToHsl(baseColor);
            return [
                baseColor,
                hslToHex((h + 120) % 360, s, l),
                hslToHex((h + 240) % 360, s, l),
                hslToHex(h, s * 0.6, Math.min(l + 25, 95)),
                hslToHex((h + 120) % 360, s * 0.6, Math.min(l + 25, 95))
            ];
        }

        function generateAnalogousColors(baseColor) {
            const [h, s, l] = hexToHsl(baseColor);
            return [
                hslToHex((h - 30 + 360) % 360, s, l),
                hslToHex((h - 15 + 360) % 360, s, l),
                baseColor,
                hslToHex((h + 15) % 360, s, l),
                hslToHex((h + 30) % 360, s, l)
            ];
        }

        function generateSplitComplementaryColors(baseColor) {
            const [h, s, l] = hexToHsl(baseColor);
            const comp = (h + 180) % 360;
            return [
                baseColor,
                hslToHex((comp - 30 + 360) % 360, s, l),
                hslToHex((comp + 30) % 360, s, l),
                hslToHex(h, s * 0.7, Math.min(l + 20, 90)),
                hslToHex(h, s * 0.4, Math.max(l - 25, 15))
            ];
        }

        function generateTetradicColors(baseColor) {
            const [h, s, l] = hexToHsl(baseColor);
            return [
                baseColor,
                hslToHex((h + 90) % 360, s, l),
                hslToHex((h + 180) % 360, s, l),
                hslToHex((h + 270) % 360, s, l),
                hslToHex(h, s * 0.5, Math.min(l + 30, 95))
            ];
        }

        function generateMonochromaticColors(baseColor) {
            const [h, s, l] = hexToHsl(baseColor);
            return [
                hslToHex(h, s, Math.max(l - 40, 5)),
                hslToHex(h, s, Math.max(l - 20, 10)),
                baseColor,
                hslToHex(h, s, Math.min(l + 20, 90)),
                hslToHex(h, s, Math.min(l + 40, 95))
            ];
        }

        function createPaletteCard(colors, title, harmonyType) {
            paletteCounter++;
            const contrastRatio = getContrastRatio(colors[0], colors[colors.length - 1]);
            const harmonyScore = Math.floor(Math.random() * 20) + 80; // Simulated ML score

            const card = document.createElement('div');
            card.className = 'palette-card';
            card.innerHTML = `
                <div class="palette-header">
                    <div class="palette-title">${title}</div>
                    <div class="harmony-type">${harmonyType}</div>
                </div>
                <div class="color-strip">
                    ${colors.map(color => `
                        <div class="color-swatch" style="background-color: ${color}" 
                             onclick="copyToClipboard('${color}')" title="Klik untuk copy ${color}">
                            ${color.toUpperCase()}
                        </div>
                    `).join('')}
                </div>
                <div class="color-codes">
                    ${colors.map(color => `<div class="color-code">${color.toUpperCase()}</div>`).join('')}
                </div>
            `;

            generatedPalettes.push({ colors, title, harmonyType, harmonyScore, contrastRatio });
            updateStats();
            return card;
        }

        function updateStats() {
            document.getElementById('paletteCount').textContent = paletteCounter;
            
            if (generatedPalettes.length > 0) {
                const avgHarmony = generatedPalettes.reduce((sum, p) => sum + p.harmonyScore, 0) / generatedPalettes.length;
                const lastContrast = generatedPalettes[generatedPalettes.length - 1].contrastRatio;
                
                document.getElementById('harmonyScore').textContent = Math.round(avgHarmony) + '%';
                document.getElementById('contrastRatio').textContent = lastContrast.toFixed(1) + ':1';
            }
        }

        function showLoading() {
            document.getElementById('loading').style.display = 'block';
        }

        function hideLoading() {
            document.getElementById('loading').style.display = 'none';
        }

        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.style.display = 'block';
            setTimeout(() => {
                toast.style.display = 'none';
            }, 3000);
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showToast(`Warna ${text} berhasil disalin!`);
            });
        }

        function generateFromBase() {
            showLoading();
            const baseColor = document.getElementById('baseColor').value;
            
            setTimeout(() => {
                const paletteGrid = document.getElementById('paletteGrid');
                const colors = generateComplementaryColors(baseColor);
                const card = createPaletteCard(colors, `Palet dari ${baseColor}`, 'Base Color');
                paletteGrid.appendChild(card);
                hideLoading();
            }, 1500);
        }

        function generateByHarmony() {
            showLoading();
            const baseColor = document.getElementById('baseColor').value;
            const harmonyType = document.getElementById('harmonyType').value;
            
            setTimeout(() => {
                let colors;
                let title;

                switch(harmonyType) {
                    case 'complementary':
                        colors = generateComplementaryColors(baseColor);
                        title = 'Complementary Palette';
                        break;
                    case 'triadic':
                        colors = generateTriadicColors(baseColor);
                        title = 'Triadic Palette';
                        break;
                    case 'analogous':
                        colors = generateAnalogousColors(baseColor);
                        title = 'Analogous Palette';
                        break;
                    case 'splitComplementary':
                        colors = generateSplitComplementaryColors(baseColor);
                        title = 'Split Complementary';
                        break;
                    case 'tetradic':
                        colors = generateTetradicColors(baseColor);
                        title = 'Tetradic Palette';
                        break;
                    case 'monochromatic':
                        colors = generateMonochromaticColors(baseColor);
                        title = 'Monochromatic Palette';
                        break;
                }

                const paletteGrid = document.getElementById('paletteGrid');
                const card = createPaletteCard(colors, title, harmonyType.charAt(0).toUpperCase() + harmonyType.slice(1));
                paletteGrid.appendChild(card);
                hideLoading();
            }, 2000);
        }

        function generateAIPalette() {
            showLoading();
            const moodType = document.getElementById('moodType').value;
            
            setTimeout(() => {
                const mood = moodPalettes[moodType];
                
                // Simulate AI algorithm - mix base colors with some randomization
                const colors = [];
                const baseColors = [...mood.base];
                const accentColors = [...mood.accent];
                
                // Select colors using ML-like weighted selection
                for (let i = 0; i < 5; i++) {
                    if (i < 3) {
                        // Primary colors from base palette
                        const colorIndex = Math.floor(Math.random() * baseColors.length);
                        colors.push(baseColors.splice(colorIndex, 1)[0]);
                    } else {
                        // Accent colors
                        const accentIndex = Math.floor(Math.random() * accentColors.length);
                        colors.push(accentColors[accentIndex]);
                    }
                }

                const paletteGrid = document.getElementById('paletteGrid');
                const title = `AI Generated - ${moodType.charAt(0).toUpperCase() + moodType.slice(1)}`;
                const card = createPaletteCard(colors, title, 'AI Machine Learning');
                paletteGrid.appendChild(card);
                hideLoading();
            }, 2500);
        }

        // Event listeners
        document.getElementById('baseColor').addEventListener('change', function() {
            document.getElementById('baseColorHex').value = this.value;
        });

        document.getElementById('baseColorHex').addEventListener('input', function() {
            if (this.value.match(/^#[0-9A-F]{6}$/i)) {
                document.getElementById('baseColor').value = this.value;
            }
        });

        // Generate initial palette
        window.addEventListener('load', function() {
            generateAIPalette();
        });
    </script>
</body>
</html>